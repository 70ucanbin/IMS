
<!doctype html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>Yo!</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <!-- datatables CSS -->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css">
    <!-- Custom styles for this template -->
    <link rel="stylesheet" href="{{ url_for('static', filename='layoutstyle.css') }}">
  </head>

  <body>
    <nav class="navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow">
      <a class="navbar-brand col-sm-3 col-md-2 mr-0" href="{{ url_for('home.index') }}">Yo!</a>
      <div class="d-block d-sm-none">
      <div class="collapse bg-light mobileNavbar" id="navbarSupportedContent">
          <ul class="nav">
            <li class="nav-item">
              <a class="nav-link {% if not activeHome %}{% else %}active{% endif %}" href="{{ url_for('home.index') }}">
                <span data-feather="home"></span>
                HOME <span class="sr-only">(current)</span>
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link {% if not activeCwl %}{% else %}active{% endif %}" href="{{ url_for('clientWork.clinent_work_list', month=0) }}">
                <span data-feather="clock"></span>
                稼働
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link {% if not activeMr %}{% else %}active{% endif %}" href="{{ url_for('monthlyReport.monthly_report_list', month=0) }}">
                <span data-feather="calendar"></span>
                月報
              </a>
            </li>
            <li class="nav-item">
                <a class="nav-link {% if not activeTe %}{% else %}active{% endif %}" href="{{ url_for('travelExpenses.travel_expenses_list', month=0) }}" href="#">
                <span data-feather="dollar-sign"></span>
                旅費精算
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">
                <span data-feather="folder"></span>
                共用ファイル
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">
                <span data-feather="mail"></span>
                社内メール
              </a>
            </li>
          </ul>

          <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
            <span>事業部お知らせ</span>
            <a class="d-flex align-items-center text-muted" href="#">
              <span data-feather="plus-circle"></span>
            </a>
          </h6>
          <ul class="nav flex-column mb-2">
            <li class="nav-item">
              <a class="nav-link" href="#">
                <span data-feather="users"></span>
                第一なんちゃら部
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">
                <span data-feather="users"></span>
                第二なんちゃら部
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">
                <span data-feather="users"></span>
                第三なんちゃら部
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">
                <span data-feather="users"></span>
                第四なんちゃら部
              </a>
            </li>
          </ul>
        </div>
      </div>

      <button class="d-block d-sm-none navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarToggleExternalContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <ul class="navbar-nav px-3">
          <li class="nav-item text-nowrap">
            <a class="nav-link" href="{{ url_for('com.logout') }}">ログアウト</a>
          </li>
      </ul>
    </nav>

    <div class="container-fluid">
      <div class="row">
        <nav class="col-md-2 d-none d-md-block bg-light sidebar">
          <div class="sidebar-sticky">
            <ul class="nav flex-column">
              <li class="nav-item">
                <a class="nav-link {% if not activeHome %}{% else %}active{% endif %}" href="{{ url_for('home.index') }}">
                  <span data-feather="home"></span>
                  HOME <span class="sr-only">(current)</span>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link {% if activeSub == 'clientWork' %}active{% else %}{% endif %}" href="{{ url_for('clientWork.clinent_work_list', month=0) }}">
                  <span data-feather="clock"></span>
                  稼働
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link {% if activeSub == 'monthlyReport' %}active{% else %}{% endif %}" href="{{ url_for('monthlyReport.monthly_report_list', month=0) }}">
                  <span data-feather="calendar"></span>
                  月報
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link {% if activeSub == 'travelExpenses' %}active{% else %}{% endif %}" href="{{ url_for('travelExpenses.travel_expenses_list', month=0) }}" href="#">
                  <span data-feather="dollar-sign"></span>
                  旅費精算
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">
                  <span data-feather="folder"></span>
                  共用ファイル
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">
                  <span data-feather="mail"></span>
                  社内メール
                </a>
              </li>
            </ul>

            <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
              <span>事業部お知らせ</span>
              <a class="d-flex align-items-center text-muted" href="#">
                <span data-feather="plus-circle"></span>
              </a>
            </h6>
            <ul class="nav flex-column mb-2">
              <li class="nav-item">
                <a class="nav-link" href="#">
                  <span data-feather="users"></span>
                  第一なんちゃら部
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">
                  <span data-feather="users"></span>
                  第二なんちゃら部
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">
                  <span data-feather="users"></span>
                  第三なんちゃら部
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">
                  <span data-feather="users"></span>
                  第四なんちゃら部
                </a>
              </li>
            </ul>
          </div>
        </nav>

        <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4">
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3">
                        <h1 class="h2">旅費精算</h1>
                        <div class="btn-toolbar mb-2 mb-md-0">
                          <button class="btn btn-sm btn-outline-secondary mr-2" onclick="createTravelExpenses()"><span data-feather="file-plus"></span> 新規作成</button>
                          <button class="btn btn-sm btn-outline-secondary mr-2" onclick="downloadTravelExpenses()"><span data-feather="download"></span> 詳細出力</button>
                          <button class="btn btn-sm btn-outline-secondary dropdown-toggle" type="button"  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <span data-feather="calendar"></span>
                            {{ month }}月
                          </button>
                          <div class="dropdown-menu text-center">
                              <a class="dropdown-item" id="testbtn" onclick="test()" href="#"}>1月</a>
                              <a class="dropdown-item" href="{{ url_for('travelExpenses.travel_expenses_list', month=2) }}">2月</a>
                              <a class="dropdown-item" href="{{ url_for('travelExpenses.travel_expenses_list', month=3) }}">3月</a>
                              <a class="dropdown-item" href="{{ url_for('travelExpenses.travel_expenses_list', month=4) }}">4月</a>
                              <a class="dropdown-item" href="{{ url_for('travelExpenses.travel_expenses_list', month=5) }}">5月</a>
                              <a class="dropdown-item" href="{{ url_for('travelExpenses.travel_expenses_list', month=6) }}">6月</a>
                              <a class="dropdown-item" href="{{ url_for('travelExpenses.travel_expenses_list', month=7) }}">7月</a>
                              <a class="dropdown-item" href="{{ url_for('travelExpenses.travel_expenses_list', month=8) }}">8月</a>
                              <a class="dropdown-item" href="{{ url_for('travelExpenses.travel_expenses_list', month=9) }}">9月</a>
                              <a class="dropdown-item" href="{{ url_for('travelExpenses.travel_expenses_list', month=10) }}">10月</a>
                              <a class="dropdown-item" href="{{ url_for('travelExpenses.travel_expenses_list', month=11) }}">11月</a>
                              <a class="dropdown-item" href="{{ url_for('travelExpenses.travel_expenses_list', month=12) }}">12月</a>
                          </div>
                        </div>
                    </div>

                    <script src="https://code.jquery.com/jquery-3.3.1.js"></script>
                    <script src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
                    
                    
                    <table id="example" class="table table-striped table-bordered" style="width:100%">
                        <thead>
                            <tr>
                                <th>月日</th>
                                <th>費目</th>
                                <th>ルート</th>
                                <th>交通手段</th>
                                <th>金額</th>
                                <th>添付</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>2019/8/31</td>
                                <td>定期</td>
                                <td>月～地球</td>
                                <td>ロケット</td>
                                <td>999,999,999</td>
                                <td><span data-feather="check"></span></td>
                            </tr>
                            <tr>
                                <td>2019/8/31</td>
                                <td>出張</td>
                                <td>地球～火星</td>
                                <td>宇宙船</td>
                                <td>999,999,999</td>
                                <td></td>
                            </tr>
                            <tr>
                                <td>2019/8/31</td>
                                <td>研究教育</td>
                                <td>サーバー部品1</td>
                                <td></td>
                                <td>999,999,999</td>
                                <td><span data-feather="check"></span></td>
                            </tr>
                            <tr>
                                <td>2019/8/31</td>
                                <td>研究教育</td>
                                <td>サーバー部品2</td>
                                <td></td>
                                <td>999,999,999</td>
                                <td><span data-feather="check"></span></td>
                            </tr>
                            <tr>
                                <td>2019/8/31</td>
                                <td>研究教育</td>
                                <td>サーバー部品3</td>
                                <td></td>
                                <td>999,999,999</td>
                                <td><span data-feather="check"></span></td>
                            </tr>
                    
                        </tbody>
                    </table>
                    
                    
                    <script>
                    
                    function createTravelExpenses(){
                        location.href = "{{ url_for('travelExpenses.travel_expenses_details', month=month, travelExpensesId=0) }}";
                    }
                    
                    function downloadTravelExpenses(){
                        location.href = "#";
                    }
                    
                    $(document).ready(function() {
                        var table = $('#example').DataTable( {
                            responsive: true,
                            ajax: {
                                type   : "POST",
                                url    : "{{ url_for('travelExpenses.travel_expenses_list', month=month) }}",
                                contentType: 'application/json',
                                dataType : 'JSON',
                                scriptCharset: 'utf-8',
                                data   : function( d ) {
                                  d.name= $('#name').val();
                                  return JSON.stringify(d);
                                },
                                "dataSrc": ""
                            },
                            'columns': [
                                        {"data" : "name"},
                                        {"data" : "position"},
                                        {"data" : "salary"},
                                        {"data" : "start_date"},
                                        {"data" : "office"},
                                        {"data" : "extn"}
                            ],
                            language: {
                              emptyTable: "該当するデータが見つかりませんでした。",
                              info: "_TOTAL_ 件中 _START_ 件から _END_ 件までを表示",
                              infoEmpty: "",
                              infoFiltered: "(_MAX_ 件からの絞り込み表示)",
                              infoPostFix: "",
                              thousands: ",",
                              lengthMenu: "表示件数: _MENU_",
                              loadingRecords: "ロード中",
                              processing: "処理中...",
                              search: "一覧表示内絞込検索",
                              zeroRecords: "該当するデータが見つかりませんでした。",
                              paginate: {
                                first: "先頭",
                                previous: "前へ",
                                next: "次へ",
                                last: "末尾"
                              }}
                        } );
                        window.test = function(){
                            alert('ajax test');
                            table.ajax.reload();
                    };
                    } );
                    </script>  
        </main>
      </div>
    </div>


    <!-- Bootstrap core JavaScript -->
    <!-- <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

    <!-- Icons -->
    <script src="https://unpkg.com/feather-icons/dist/feather.min.js"></script>
    <script>
      feather.replace()
    </script>
  </body>
</html>


